<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="expert">

<select id="selectExpert" resultType="member">
	SELECT * FROM MEMBER WHERE MEM_CLASS LIKE '전문가' 
</select> 

<select id="selectExpertMem" resultType="member" parameterType="string">
	SELECT * FROM MEMBER WHERE MEM_CLASS LIKE '전문가' AND USID = #{no}
</select>

<select id="selectMember" resultType="member" parameterType="string">
	SELECT * FROM MEMBER WHERE MEM_NICKNAME = #{nick}
</select>

<select id="selectIsDuplicateReq" resultType="exrequest" parameterType="map">
	SELECT * FROM EXPERT_REQUEST WHERE EXPERT_REQUET_EX_USID = #{exusid} AND EXPERT_REQUEST_MEM_USID = #{memusid}
</select>

<insert id="insertExpertMemRequest" parameterType="map">
	INSERT INTO EXPERT_REQUEST VALUES(#{exusid},#{memusid},#{exnick},#{memnick},DEFAULT,DEFAULT)
</insert>

<delete id="deleteExpertMemRequest" parameterType="map">
	DELETE FROM EXPERT_REQUEST WHERE EXPERT_REQUET_EX_USID = #{exusid} AND EXPERT_REQUEST_MEM_USID = #{memusid}
</delete>

<select id="selectExpertRequest" resultType="exrequest" parameterType="member">
	SELECT * FROM EXPERT_REQUEST WHERE EXPERT_REQUET_EX_USID = #{usid}
</select>

</mapper>
